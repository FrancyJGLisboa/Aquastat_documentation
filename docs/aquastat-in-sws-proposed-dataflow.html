<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AQUASTAT in SWS: proposed dataflow | Migration of AQUASTAT Statistical Processes into the SWS</title>
  <meta name="description" content="This online book describes the migration the statistical processes associated with the AQUASTAT - FAO Global’s Water Information System into the Corporate Statistical Working System (SWS)">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="AQUASTAT in SWS: proposed dataflow | Migration of AQUASTAT Statistical Processes into the SWS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This online book describes the migration the statistical processes associated with the AQUASTAT - FAO Global’s Water Information System into the Corporate Statistical Working System (SWS)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="AQUASTAT in SWS: proposed dataflow | Migration of AQUASTAT Statistical Processes into the SWS" />
  
  <meta name="twitter:description" content="This online book describes the migration the statistical processes associated with the AQUASTAT - FAO Global’s Water Information System into the Corporate Statistical Working System (SWS)" />
  

<meta name="author" content="Francy Lisboa (ESSD - Methodological Innovation Team)">


<meta name="date" content="2019-03-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="new-aquastat-methodology.html">
<link rel="next" href="sws-resources.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/viz-0.3/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.0/grViz.js"></script>



<link rel="stylesheet" href="ess.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#introduction"><strong>Introduction</strong></a></li>
<li><a href="migration-actors.html#migration-actors"><strong>Migration actors</strong></a></li>
<li><a href="new-aquastat-methodology.html#new-aquastat-methodology"><strong>New AQUASTAT methodology</strong></a><ul>
<li><a href="new-aquastat-methodology.html#data-collection"><strong>Data Collection</strong></a></li>
<li><a href="new-aquastat-methodology.html#questionnaire"><strong>Questionnaire</strong></a></li>
<li><a href="new-aquastat-methodology.html#the-current-aquastat-information-management"><strong>The current AQUASTAT information management</strong></a></li>
</ul></li>
<li><a href="aquastat-in-sws-proposed-dataflow.html#aquastat-in-sws-proposed-dataflow"><strong>AQUASTAT in SWS: proposed dataflow</strong></a></li>
<li><a href="sws-resources.html#sws-resources"><strong>SWS resources</strong></a><ul>
<li><a href="sws-resources.html#code-lists"><strong>Code lists</strong></a></li>
<li><a href="sws-resources.html#data-tables"><strong>Data tables</strong></a></li>
<li><a href="sws-resources.html#datasets"><strong>Datasets</strong></a></li>
</ul></li>
<li><a href="aquastat-elements.html#aquastat-elements"><strong>AQUASTAT Elements</strong></a><ul>
<li><a href="aquastat-elements.html#international-classification-systems"><strong>International Classification Systems</strong></a></li>
<li><a href="aquastat-elements.html#the-sws-aquastat_reference-data-table"><strong>The SWS aquastat_reference data table</strong></a><ul>
<li><a href="aquastat-elements.html#current-aquastat-variables"><strong>Current AQUASTAT Variables</strong></a></li>
<li><a href="aquastat-elements.html#current-aquastat-indicators"><strong>Current AQUASTAT indicators</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html"><i class="fa fa-check"></i><b>1</b> <strong>The faoswsAquastatBaseline module</strong></a><ul>
<li class="chapter" data-level="1.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#aims"><i class="fa fa-check"></i><b>1.1</b> <strong>Aims</strong></a><ul>
<li class="chapter" data-level="1.1.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#add-indicators"><i class="fa fa-check"></i><b>1.1.1</b> Add indicators</a></li>
<li class="chapter" data-level="1.1.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#long-term-variables"><i class="fa fa-check"></i><b>1.1.2</b> Long-term variables</a></li>
<li class="chapter" data-level="1.1.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#time-series-completeness"><i class="fa fa-check"></i><b>1.1.3</b> Time-Series completeness</a></li>
<li class="chapter" data-level="1.1.4" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#geographic-coverage"><i class="fa fa-check"></i><b>1.1.4</b> Geographic coverage</a></li>
<li class="chapter" data-level="1.1.5" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#faostat-data-sourcing"><i class="fa fa-check"></i><b>1.1.5</b> FAOSTAT data sourcing</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#workflow"><i class="fa fa-check"></i><b>1.2</b> <strong>Workflow</strong></a><ul>
<li class="chapter" data-level="1.2.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#faostat-annexation"><i class="fa fa-check"></i><b>1.2.1</b> FAOSTAT annexation</a></li>
<li class="chapter" data-level="1.2.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#calculation"><i class="fa fa-check"></i><b>1.2.2</b> Calculation</a></li>
<li class="chapter" data-level="1.2.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#imputations"><i class="fa fa-check"></i><b>1.2.3</b> Imputations</a></li>
<li class="chapter" data-level="1.2.4" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#recalculation"><i class="fa fa-check"></i><b>1.2.4</b> Recalculation</a></li>
<li class="chapter" data-level="1.2.5" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#flag-mapping-observation"><i class="fa fa-check"></i><b>1.2.5</b> Flag mapping (Observation)</a></li>
<li class="chapter" data-level="1.2.6" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#flag-mapping-method"><i class="fa fa-check"></i><b>1.2.6</b> Flag mapping (Method)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#running-the-module-in-the-sws"><i class="fa fa-check"></i><b>1.3</b> <strong>Running the module in the SWS</strong></a></li>
<li class="chapter" data-level="1.4" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#did-the-module"><i class="fa fa-check"></i><b>1.4</b> <strong>Did the module…</strong></a><ul>
<li class="chapter" data-level="1.4.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#add-new-indicators"><i class="fa fa-check"></i><b>1.4.1</b> Add new indicators ?</a></li>
<li class="chapter" data-level="1.4.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#promote-time-series-completeness-and-higher-geographic-coverage"><i class="fa fa-check"></i><b>1.4.2</b> promote time-series completeness and higher geographic coverage ?</a></li>
<li class="chapter" data-level="1.4.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#correct-values-of-long-term-average-variables"><i class="fa fa-check"></i><b>1.4.3</b> correct values of Long-Term Average variables ?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="AquastatValidation.html"><a href="AquastatValidation.html"><i class="fa fa-check"></i><b>2</b> <strong>The faoswsAquastatValidation module</strong></a><ul>
<li class="chapter" data-level="2.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#aims-1"><i class="fa fa-check"></i><b>2.1</b> <strong>Aims</strong></a><ul>
<li class="chapter" data-level="2.1.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#use-validation-rules"><i class="fa fa-check"></i><b>2.1.1</b> <strong>Use validation rules</strong></a></li>
<li class="chapter" data-level="2.1.2" data-path="AquastatValidation.html"><a href="AquastatValidation.html#focus-on-high-priority-rules"><i class="fa fa-check"></i><b>2.1.2</b> <strong>Focus on high priority rules</strong></a></li>
<li class="chapter" data-level="2.1.3" data-path="AquastatValidation.html"><a href="AquastatValidation.html#output-as-an-email-attachment"><i class="fa fa-check"></i><b>2.1.3</b> <strong>Output as an email attachment</strong></a></li>
<li class="chapter" data-level="2.1.4" data-path="AquastatValidation.html"><a href="AquastatValidation.html#generalization"><i class="fa fa-check"></i><b>2.1.4</b> <strong>Generalization</strong></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="AquastatValidation.html"><a href="AquastatValidation.html#workflow-1"><i class="fa fa-check"></i><b>2.2</b> <strong>Workflow</strong></a><ul>
<li class="chapter" data-level="2.2.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#the-input-dataset"><i class="fa fa-check"></i><b>2.2.1</b> The input dataset</a></li>
<li class="chapter" data-level="2.2.2" data-path="AquastatValidation.html"><a href="AquastatValidation.html#apply-validation-rules"><i class="fa fa-check"></i><b>2.2.2</b> Apply validation rules</a></li>
<li class="chapter" data-level="2.2.3" data-path="AquastatValidation.html"><a href="AquastatValidation.html#output-to-the-user"><i class="fa fa-check"></i><b>2.2.3</b> Output to the user</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="AquastatValidation.html"><a href="AquastatValidation.html#running-the-module-in-the-sws-1"><i class="fa fa-check"></i><b>2.3</b> <strong>Running the module in the SWS</strong></a></li>
<li class="chapter" data-level="2.4" data-path="AquastatValidation.html"><a href="AquastatValidation.html#did-the-module-1"><i class="fa fa-check"></i><b>2.4</b> <strong>Did the module</strong>…</a><ul>
<li class="chapter" data-level="2.4.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#execute-what-it-was-designed-for"><i class="fa fa-check"></i><b>2.4.1</b> execute what it was designed for?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="next.html"><a href="next.html"><i class="fa fa-check"></i><b>3</b> <strong>Next</strong></a><ul>
<li class="chapter" data-level="3.1" data-path="next.html"><a href="next.html#pending-activities"><i class="fa fa-check"></i><b>3.1</b> <strong>Pending activities</strong></a><ul>
<li class="chapter" data-level="3.1.1" data-path="next.html"><a href="next.html#validation-comment"><i class="fa fa-check"></i><b>3.1.1</b> Validation comment</a></li>
<li class="chapter" data-level="3.1.2" data-path="next.html"><a href="next.html#national-dam-capacity-time-series-using-sws-dam-data-table"><i class="fa fa-check"></i><b>3.1.2</b> National dam capacity time-series (using SWS dam data table)</a></li>
<li class="chapter" data-level="3.1.3" data-path="next.html"><a href="next.html#show-the-latest-value-and-the-corresponding-year"><i class="fa fa-check"></i><b>3.1.3</b> Show the latest value and the corresponding year</a></li>
<li class="chapter" data-level="3.1.4" data-path="next.html"><a href="next.html#automatic-generation-of-pdf"><i class="fa fa-check"></i><b>3.1.4</b> Automatic generation of PDF</a></li>
<li class="chapter" data-level="3.1.5" data-path="next.html"><a href="next.html#aggregations"><i class="fa fa-check"></i><b>3.1.5</b> Aggregations</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Migration of AQUASTAT Statistical Processes into the SWS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aquastat-in-sws-proposed-dataflow" class="section level1 unnumbered">
<h1><strong>AQUASTAT in SWS: proposed dataflow</strong></h1>
<p>AQUASTAT dataflow will predominatly be triggered by the filling and compilation of the <strong>Water and Agriculture questionnaire</strong> by the AQUASTAT network of National Correspondents. The CIO - SWS counterpart is the responsible for creating tailored questionnaire harvesters to automatically extract data from filled questionnaires and output it as an SWS compliant dataset. Once in the SWS, the technical will benefit from the tools and other features that have been developed to make the AQUASTAT dataflow as seamless as possible. On this basis, the flowchart below gives the AQUASTAT dataflow that has been fostered by the ESS - SWS team.</p>
<div class="figure"><span id="fig:fig2"></span>
<div id="htmlwidget-910f509ebc7023cd51c2" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-910f509ebc7023cd51c2">{"x":{"diagram":"digraph {\n\ngraph [layout = dot, rankdir = TB]\n\n# define the global styles of the nodes. We can override these in box if we wish\nnode [shape = rectangle, style = filled, fillcolor = Linen]\n\n# Inputs\ncoordination [label = \"Source \n coordination \n between agencies\", shape = folder, fillcolor = Beige]\nSurveys [label = \"Source \n Country surveys \n and census\", shape = folder, fillcolor = Beige]\nLiterature [label = \"Source \n Literature review\", shape = folder, fillcolor = Beige]\n\nfocalpoint [label = \"Compilation: \n questionnaire filling \n by AQUASTAT \n national correspondent\", shape = folder, fillcolor = Beige]\n\nSWSQH [label = \"Harvester: \n questionnaire harvesting \n by CIO - SWS\", fillcolor = LightBlue]\n\nNewdata [label = \"Dataset: \n data harvested from questionnaire \n and SWS compliant\", shape = folder, fillcolor = Beige]\n\nQA1 [label = \"QAQC \n Manual Quality control \n of data harvested from questionnaire\", fillcolor = PaleGreen]\n\nNewdata_val [label = \"Dataset: \n validated questionnaire data\", shape = folder, fillcolor = Beige]\n\nAPIsourcing [label = \"API: \n External data sourced \n by CIO - SWS\", fillcolor = LightBlue]\n\nAPIdata [label = \"Dataset: \n data from external sources\", shape = folder, fillcolor = Beige]\n\noldsystem [label = \"Database: \n Old Aquastat Working System\", shape = folder, fillcolor = Beige]\n\nMigration [label = \"Migration: \n legacy data into the SWS \n done by CIO - SWS\", fillcolor = LightBlue]\n\nlegacydata [label = \"Dataset: \n aquastat_legacy dataset \", shape = folder, fillcolor = Beige]\n\n\nfaobaselineM [label = \"Process: \n SWS faoswsAquastatBaseline module \n (runs only once to produce \n the data to be periodically updated)\",  fillcolor = PaleGreen]\n\nfaobaseline [label = \"Dataset: \n SWS aquastat_baseline dataset \n (the data to be periodically updated)\", shape = folder, fillcolor = Beige]\n\nupdate [label = \"Process:: \n SWS faoswsAquastatUpdate module \n Updates aquastat_baseline \n with Quest. data \n and API data\", fillcolor = PaleGreen]\n\nupdateddata [label = \"Dataset: \n updated aquastat_baseline dataset \n from SWS faoswsAquastatUpdate module \", shape = folder, fillcolor = Beige]\n\n\nQA2 [label = \"Process: \n Automate Quality control \n by faoswsAquatsatValidation module\", fillcolor = PaleGreen]\n\nvalidationemail [label = \"Dataset: \n Validation output \n sent to the user by email (.csv file)\", shape = folder, fillcolor = Beige]\n\nQA3 [label = \"Process: \n Manual Quality control \n of faoswsAquatsatValidation module output\", fillcolor = PaleGreen]\n\nvalidated [label = \"Dataset: \n updated aquastat_baseline \n cleared by technical division\", shape = folder, fillcolor = Beige]\n\nAQUASWSdb [label = \"Dataset: \n updated AQUASTAT dataset \n saved in the SWS database\", shape = folder, fillcolor = Beige]\n\nDiss [label = \"Dissemination: \n  Web, publications, Apps\", shape = folder, fillcolor = LightGrey]\n\n\n# Flow\n# edge definitions with the node IDs\n{coordination, Surveys, Literature} -> focalpoint -> SWSQH -> Newdata -> QA1 -> Newdata_val -> update\n{oldsystem} -> Migration -> legacydata -> faobaselineM -> faobaseline\n{APIsourcing} -> APIdata -> update \n{faobaseline} -> update -> updateddata -> QA2 -> validationemail -> QA3 -> validated -> AQUASWSdb -> Diss\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure .: Proposed AQUATAST - SWS dataflow
</p>
</div>
<div class="rmdnote">
<p>
Notice that the questionnaire harvester produced by CIO - SWS counterpart represents the first contact of the questionnaire - based data with the SWS. The harvester outputs an SWS compliant dataset that goes through the chain of SWS processes where inputs and outputs datasets are also adhering to SWS standards.
</p>
<p>
Apart from the questionnaire harvesting, the processes in green are those performed by AQUASTAT modules <strong>already operating in the QA environment in the SWS</strong>. The <strong>faoswsAquastatUpdate module</strong> is yet to be built after the final endorsement of the faoswsAquastaBaseline output by the technical unit. Again, the aquastat_baseline dataset is going to be the starting point for the periodical updates of the AQUASTAT data obtained from questionnaires and other sources. Therefore, the plan is that whenever the technical unit needs to update the AQUASTAT dataset, the <strong>faoswsAquastatUpdate</strong> executes on the latest version of the aquastat_baseline dataset.
</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="new-aquastat-methodology.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sws-resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
