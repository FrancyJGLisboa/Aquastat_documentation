<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 2 The faoswsAquastatValidation module | Migration of AQUASTAT Statistical Processes into the SWS</title>
  <meta name="description" content="This online book describes the migration the statistical processes associated with the AQUASTAT - FAO Global’s Water Information System into the Corporate Statistical Working System (SWS)">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 2 The faoswsAquastatValidation module | Migration of AQUASTAT Statistical Processes into the SWS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This online book describes the migration the statistical processes associated with the AQUASTAT - FAO Global’s Water Information System into the Corporate Statistical Working System (SWS)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 The faoswsAquastatValidation module | Migration of AQUASTAT Statistical Processes into the SWS" />
  
  <meta name="twitter:description" content="This online book describes the migration the statistical processes associated with the AQUASTAT - FAO Global’s Water Information System into the Corporate Statistical Working System (SWS)" />
  

<meta name="author" content="Francy Lisboa (ESSD - Methodological Innovation Team)">


<meta name="date" content="2019-03-14">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="AquastatBaseline.html">
<link rel="next" href="nextsteps.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/viz-0.3/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.0/grViz.js"></script>



<link rel="stylesheet" href="ess.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#introduction"><strong>Introduction</strong></a><ul>
<li><a href="index.html#code-lists"><strong>Code lists</strong></a></li>
<li><a href="index.html#data-tables"><strong>Data tables</strong></a></li>
<li><a href="index.html#datasets"><strong>Datasets</strong></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html"><i class="fa fa-check"></i><b>1</b> <strong>The faoswsAquastatBaseline module</strong></a><ul>
<li class="chapter" data-level="1.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#aims"><i class="fa fa-check"></i><b>1.1</b> <strong>Aims</strong></a><ul>
<li class="chapter" data-level="1.1.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#add-indicators"><i class="fa fa-check"></i><b>1.1.1</b> Add indicators</a></li>
<li class="chapter" data-level="1.1.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#long-term-variables"><i class="fa fa-check"></i><b>1.1.2</b> Long-term variables</a></li>
<li class="chapter" data-level="1.1.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#time-series-completeness"><i class="fa fa-check"></i><b>1.1.3</b> Time-Series completeness</a></li>
<li class="chapter" data-level="1.1.4" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#geographic-coverage"><i class="fa fa-check"></i><b>1.1.4</b> Geographic coverage</a></li>
<li class="chapter" data-level="1.1.5" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#faostat-data-sourcing"><i class="fa fa-check"></i><b>1.1.5</b> FAOSTAT data sourcing</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#workflow"><i class="fa fa-check"></i><b>1.2</b> <strong>Workflow</strong></a><ul>
<li class="chapter" data-level="1.2.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#faostat-annexation"><i class="fa fa-check"></i><b>1.2.1</b> FAOSTAT annexation</a></li>
<li class="chapter" data-level="1.2.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#calculation"><i class="fa fa-check"></i><b>1.2.2</b> Calculation</a></li>
<li class="chapter" data-level="1.2.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#imputations"><i class="fa fa-check"></i><b>1.2.3</b> Imputations</a></li>
<li class="chapter" data-level="1.2.4" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#recalculation"><i class="fa fa-check"></i><b>1.2.4</b> Recalculation</a></li>
<li class="chapter" data-level="1.2.5" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#flag-mapping-observation"><i class="fa fa-check"></i><b>1.2.5</b> Flag mapping (Observation)</a></li>
<li class="chapter" data-level="1.2.6" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#flag-mapping-method"><i class="fa fa-check"></i><b>1.2.6</b> Flag mapping (Method)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#running-the-module-in-the-sws"><i class="fa fa-check"></i><b>1.3</b> <strong>Running the module in the SWS</strong></a></li>
<li class="chapter" data-level="1.4" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#did-the-module"><i class="fa fa-check"></i><b>1.4</b> <strong>Did the module…</strong></a><ul>
<li class="chapter" data-level="1.4.1" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#add-new-indicators"><i class="fa fa-check"></i><b>1.4.1</b> Add new indicators ?</a></li>
<li class="chapter" data-level="1.4.2" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#promote-time-series-completeness-and-higher-geographic-coverage"><i class="fa fa-check"></i><b>1.4.2</b> promote time-series completeness and higher geographic coverage ?</a></li>
<li class="chapter" data-level="1.4.3" data-path="AquastatBaseline.html"><a href="AquastatBaseline.html#correct-values-of-long-term-average-variables"><i class="fa fa-check"></i><b>1.4.3</b> correct values of Long-Term Average variables ?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="AquastatValidation.html"><a href="AquastatValidation.html"><i class="fa fa-check"></i><b>2</b> <strong>The faoswsAquastatValidation module</strong></a><ul>
<li class="chapter" data-level="2.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#aims-1"><i class="fa fa-check"></i><b>2.1</b> <strong>Aims</strong></a><ul>
<li class="chapter" data-level="2.1.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#use-validation-rules"><i class="fa fa-check"></i><b>2.1.1</b> <strong>Use validation rules</strong></a></li>
<li class="chapter" data-level="2.1.2" data-path="AquastatValidation.html"><a href="AquastatValidation.html#focus-on-high-priority-rules"><i class="fa fa-check"></i><b>2.1.2</b> <strong>Focus on high priority rules</strong></a></li>
<li class="chapter" data-level="2.1.3" data-path="AquastatValidation.html"><a href="AquastatValidation.html#output-as-an-email-attachment"><i class="fa fa-check"></i><b>2.1.3</b> <strong>Output as an email attachment</strong></a></li>
<li class="chapter" data-level="2.1.4" data-path="AquastatValidation.html"><a href="AquastatValidation.html#generalization"><i class="fa fa-check"></i><b>2.1.4</b> <strong>Generalization</strong></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="AquastatValidation.html"><a href="AquastatValidation.html#workflow-1"><i class="fa fa-check"></i><b>2.2</b> <strong>Workflow</strong></a><ul>
<li class="chapter" data-level="2.2.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#the-input-dataset"><i class="fa fa-check"></i><b>2.2.1</b> The input dataset</a></li>
<li class="chapter" data-level="2.2.2" data-path="AquastatValidation.html"><a href="AquastatValidation.html#apply-validation-rules"><i class="fa fa-check"></i><b>2.2.2</b> Apply validation rules</a></li>
<li class="chapter" data-level="2.2.3" data-path="AquastatValidation.html"><a href="AquastatValidation.html#output-to-the-user"><i class="fa fa-check"></i><b>2.2.3</b> Output to the user</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="AquastatValidation.html"><a href="AquastatValidation.html#running-the-module-in-the-sws-1"><i class="fa fa-check"></i><b>2.3</b> <strong>Running the module in the SWS</strong></a></li>
<li class="chapter" data-level="2.4" data-path="AquastatValidation.html"><a href="AquastatValidation.html#did-the-module-1"><i class="fa fa-check"></i><b>2.4</b> <strong>Did the module</strong>…</a><ul>
<li class="chapter" data-level="2.4.1" data-path="AquastatValidation.html"><a href="AquastatValidation.html#execute-what-it-was-designed-for"><i class="fa fa-check"></i><b>2.4.1</b> execute what it was designed for?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="nextsteps.html"><a href="nextsteps.html"><i class="fa fa-check"></i><b>3</b> <strong>Next</strong></a><ul>
<li class="chapter" data-level="3.1" data-path="nextsteps.html"><a href="nextsteps.html#pending-activities"><i class="fa fa-check"></i><b>3.1</b> <strong>Pending activities</strong></a><ul>
<li class="chapter" data-level="3.1.1" data-path="nextsteps.html"><a href="nextsteps.html#validation-comment"><i class="fa fa-check"></i><b>3.1.1</b> Validation comment</a></li>
<li class="chapter" data-level="3.1.2" data-path="nextsteps.html"><a href="nextsteps.html#national-dam-capacity-time-series-using-sws-dam-data-table"><i class="fa fa-check"></i><b>3.1.2</b> National dam capacity time-series (using SWS dam data table)</a></li>
<li class="chapter" data-level="3.1.3" data-path="nextsteps.html"><a href="nextsteps.html#show-the-latest-value-and-the-corresponding-year"><i class="fa fa-check"></i><b>3.1.3</b> Show the latest value and the corresponding year</a></li>
<li class="chapter" data-level="3.1.4" data-path="nextsteps.html"><a href="nextsteps.html#automatic-generation-of-pdf"><i class="fa fa-check"></i><b>3.1.4</b> Automatic generation of PDF</a></li>
<li class="chapter" data-level="3.1.5" data-path="nextsteps.html"><a href="nextsteps.html#aggregations"><i class="fa fa-check"></i><b>3.1.5</b> Aggregations</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Migration of AQUASTAT Statistical Processes into the SWS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="AquastatValidation" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> <strong>The faoswsAquastatValidation module</strong></h1>
<div id="aims-1" class="section level2">
<h2><span class="header-section-number">2.1</span> <strong>Aims</strong></h2>
<p>The faoswsAquastatValidation emerges as a demand for a quality assurance and quality checking tool (QA/QC) that screens AQUASTAT data sets to identify potential issues in the data. The idea is to identify and output a data set containing the information on <strong>what</strong> (elements), <strong>where</strong> (geographic areas), and <strong>when</strong> (year) the domain-knowledge in form of validation rules (logical tests) was violated.</p>
<div id="use-validation-rules" class="section level3">
<h3><span class="header-section-number">2.1.1</span> <strong>Use validation rules</strong></h3>
<p>The validation modules uses the AQUASTAT domain-knowledge converted into validation rules to identify errors in the data. The validation rules are logical test pre-defined by the technical unit and stored by the ESS-SWS team as a SWS data table called <strong>validation_rule_clone</strong> see @ (tab:tab14).</p>
<ul>
<li>The columns <strong>lhs</strong> and <strong>rhs</strong> represent the left and right side of the validation rule expression.</li>
<li>The <strong>operator</strong> the relationship between lhs and rhs that should be tested.</li>
<li>The <strong>priority</strong> is a binary variable with 1 (MUST CHECK) and 0 (SHOULD CHECK).</li>
</ul>
<table>
<caption><span id="tab:tab15">Table 2.1: </span>Validation rule data table in SWS</caption>
<thead>
<tr class="header">
<th align="left">lhs</th>
<th align="left">operator</th>
<th align="left">rhs</th>
<th align="right">priority</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4103</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4300</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4313</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4317</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4102</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4303</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4304</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4306</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4307</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4308</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4309</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4310</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4311</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4314</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4315</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4316</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4318</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4321</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4320</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4322</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4326</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4333</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4334</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4345</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4379</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4400</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4401</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4402</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4465</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4526</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4100</td>
<td align="left">&gt;</td>
<td align="left">Value_4513</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4101</td>
<td align="left">&lt;=</td>
<td align="left">Value_4100</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4102</td>
<td align="left">&lt;=</td>
<td align="left">Value_4101</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4313</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4300</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;=</td>
<td align="left">Value_4102</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4304</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4314</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4315</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4303</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4332</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4333</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4334</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4400</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4401</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4402</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4316</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4318</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4320</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4321</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4322</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4326</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4308</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4309</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4311</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4101</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4465</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4513</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4103</td>
<td align="left">&gt;</td>
<td align="left">Value_4526</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4104 *Value_4114</td>
<td align="left">“”==“”</td>
<td align="left">Value_4105<em>Value_4115</em>Value_4106*Value_4116</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4105/Value_4104</td>
<td align="left">&gt;=</td>
<td align="left">0.12</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4105/Value_4104</td>
<td align="left">&lt;=</td>
<td align="left">0.85</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4106/Value_4104</td>
<td align="left">&gt;=</td>
<td align="left">0.14</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4106/Value_4104</td>
<td align="left">&lt;=</td>
<td align="left">0.88</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4111</td>
<td align="left">&lt;=</td>
<td align="left">1.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4113</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4114</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4114</td>
<td align="left">&gt;=</td>
<td align="left">48.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4114</td>
<td align="left">&lt;=</td>
<td align="left">90.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4115</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4115</td>
<td align="left">&gt;=</td>
<td align="left">36.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4115</td>
<td align="left">&lt;=</td>
<td align="left">90.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4116</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4116</td>
<td align="left">&gt;=</td>
<td align="left">76.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4116</td>
<td align="left">&gt;=</td>
<td align="left">90.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">(Value_4150*100000)/Value_4100</td>
<td align="left">&gt;=</td>
<td align="left">50.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">(Value_4150*100000)/Value_4100</td>
<td align="left">&lt;=</td>
<td align="left">2000.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4154</td>
<td align="left">&lt;=</td>
<td align="left">Value_4157</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4154</td>
<td align="left">&lt;=</td>
<td align="left">Value_4150</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4155</td>
<td align="left">&lt;=</td>
<td align="left">Value_4157</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4155</td>
<td align="left">&lt;=</td>
<td align="left">Value_4150</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4156</td>
<td align="left">&lt;=</td>
<td align="left">Value_4154</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4156</td>
<td align="left">&lt;=</td>
<td align="left">Value_4155</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4157</td>
<td align="left">&lt;=</td>
<td align="left">Value_4150</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4157/Value_4150</td>
<td align="left">&lt;=</td>
<td align="left">0.5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">(Value_4157*100000)/Value_4100</td>
<td align="left">&gt;=</td>
<td align="left">10.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">(Value_4157*100000)/Value_4100</td>
<td align="left">&lt;=</td>
<td align="left">1500.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4158</td>
<td align="left">&gt;=</td>
<td align="left">350.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4160</td>
<td align="left">&lt;=</td>
<td align="left">Value_4159</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4161</td>
<td align="left">&lt;=</td>
<td align="left">Value_4159</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4167</td>
<td align="left">&lt;=</td>
<td align="left">Value_4165</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4168</td>
<td align="left">&lt;=</td>
<td align="left">Value_4167</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4170</td>
<td align="left">&lt;=</td>
<td align="left">Value_4169</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4171</td>
<td align="left">&lt;=</td>
<td align="left">Value_4157+Value_4456</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4174</td>
<td align="left">&lt;=</td>
<td align="left">Value_4173</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4188</td>
<td align="left">&gt;=</td>
<td align="left">Value_4157</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4188</td>
<td align="left">&gt;=</td>
<td align="left">Value_4182</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4190</td>
<td align="left">&gt;=</td>
<td align="left">560.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4190</td>
<td align="left">&lt;=</td>
<td align="left">93500.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4192</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4250/Value_4253</td>
<td align="left">&gt;=</td>
<td align="left">0.1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4250/Value_4253</td>
<td align="left">&lt;=</td>
<td align="left">0.9</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4250/Value_4317</td>
<td align="left">&gt;=</td>
<td align="left">0.002</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4250/Value_4317</td>
<td align="left">&lt;=</td>
<td align="left">0.02</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4250/Value_4317</td>
<td align="left">&gt;=</td>
<td align="left">0.005</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4250/Value_4317</td>
<td align="left">&lt;=</td>
<td align="left">0.025</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4251/Value_4253</td>
<td align="left">&gt;=</td>
<td align="left">0.03</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4251/Value_4253</td>
<td align="left">&lt;=</td>
<td align="left">0.46</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4252/Value_4253</td>
<td align="left">&gt;=</td>
<td align="left">0.01</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4252/Value_4253</td>
<td align="left">&lt;=</td>
<td align="left">0.45</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4254</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4255</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4256</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4257</td>
<td align="left">&gt;=</td>
<td align="left">50.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4258</td>
<td align="left">&lt;=</td>
<td align="left">1430.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4263</td>
<td align="left">“”==“”</td>
<td align="left">Value_4261+Value_4262</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4263</td>
<td align="left">&lt;</td>
<td align="left">2000.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4263</td>
<td align="left">&lt;=</td>
<td align="left">Value_4253</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4265</td>
<td align="left">&gt;=</td>
<td align="left">Value_4490</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4269</td>
<td align="left">&lt;=</td>
<td align="left">Value_4253</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4269</td>
<td align="left">&gt;=</td>
<td align="left">Value_4493</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4269</td>
<td align="left">“”==“”</td>
<td align="left">Value_4270+Value_4491</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4270</td>
<td align="left">&lt;=</td>
<td align="left">Value_4269</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4270</td>
<td align="left">&gt;=</td>
<td align="left">Value_4265</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4271</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4273</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4275</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4300</td>
<td align="left">&lt;=</td>
<td align="left">Value_4317</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4303</td>
<td align="left">&lt;=</td>
<td align="left">Value_4300</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4303+Value_4304</td>
<td align="left">“”==“”</td>
<td align="left">Value_4300</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4304</td>
<td align="left">&lt;=</td>
<td align="left">Value_4300</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4305</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4305</td>
<td align="left">&lt;=</td>
<td align="left">70.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4308/Value_4313</td>
<td align="left">&gt;=</td>
<td align="left">0.5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4308+Value_4309+Value_4310</td>
<td align="left">“”==“”</td>
<td align="left">Value_4332+Value_4333+Value_4334</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4309/Value_4313</td>
<td align="left">&lt;=</td>
<td align="left">0.6</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4310/Value_4313</td>
<td align="left">&lt;=</td>
<td align="left">0.2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4311</td>
<td align="left">&gt;=</td>
<td align="left">Value_4308</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4311</td>
<td align="left">&gt;=</td>
<td align="left">Value_4310</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4311</td>
<td align="left">&gt;=</td>
<td align="left">Value_4310</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4313</td>
<td align="left">&lt;=</td>
<td align="left">Value_4317</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4313</td>
<td align="left">&gt;=</td>
<td align="left">Value_4326</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4313</td>
<td align="left">&gt;=</td>
<td align="left">Value_4320+Value_4321+Value_4322+Value_4465+Value_4513+Value_4526</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4311</td>
<td align="left">&gt;=</td>
<td align="left">Value_4321</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4313</td>
<td align="left">&gt;=</td>
<td align="left">Value_4322</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4313</td>
<td align="left">&gt;=</td>
<td align="left">Value_4303</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4313</td>
<td align="left">&gt;</td>
<td align="left">Value_4465</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4313</td>
<td align="left">&gt;</td>
<td align="left">Value_4513</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4313</td>
<td align="left">&gt;</td>
<td align="left">Value_4526</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4317</td>
<td align="left">&lt;=</td>
<td align="left">Value_4103</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4318</td>
<td align="left">&lt;=</td>
<td align="left">Value_4313</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4319</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4320/Value_4313</td>
<td align="left">&lt;=</td>
<td align="left">0.7</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4321/Value_4313</td>
<td align="left">&lt;=</td>
<td align="left">0.9</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4323</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4324</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4325</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4327</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4328</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4329</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4330</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4331</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4335</td>
<td align="left">&gt;=</td>
<td align="left">1000.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4335</td>
<td align="left">&lt;=</td>
<td align="left">20000.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4339</td>
<td align="left">&gt;=</td>
<td align="left">1000.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4339</td>
<td align="left">&lt;=</td>
<td align="left">20000.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4343</td>
<td align="left">&gt;=</td>
<td align="left">1000.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4343</td>
<td align="left">&lt;=</td>
<td align="left">20000.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4344</td>
<td align="left">&gt;=</td>
<td align="left">1000.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4344</td>
<td align="left">&lt;=</td>
<td align="left">20000.0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4379/Value_4317</td>
<td align="left">&gt;=</td>
<td align="left">0.5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4400</td>
<td align="left">&lt;=</td>
<td align="left">Value_4313</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4401</td>
<td align="left">&lt;=</td>
<td align="left">Value_4313</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4401/Value_4313</td>
<td align="left">&lt;=</td>
<td align="left">0.5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Value_4403</td>
<td align="left">&lt;=</td>
<td align="left">Value_4104</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4445</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4446</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4450</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4475</td>
<td align="left">&lt;=</td>
<td align="left">Value_4250</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4493</td>
<td align="left">&gt;=</td>
<td align="left">Value_4270</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4546</td>
<td align="left">&lt;=</td>
<td align="left">Value_4112</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4547</td>
<td align="left">&lt;=</td>
<td align="left">Value_4112</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4548</td>
<td align="left">&lt;=</td>
<td align="left">Value_4112</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Value_4550</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Value_4555</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Value_4556</td>
<td align="left">&lt;=</td>
<td align="left">100.0</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div id="focus-on-high-priority-rules" class="section level3">
<h3><span class="header-section-number">2.1.2</span> <strong>Focus on high priority rules</strong></h3>
<ul>
<li>It was agreed between the technical unit and the ESS - SWS team that the module should focus on the MUST CHECK rules.</li>
</ul>
</div>
<div id="output-as-an-email-attachment" class="section level3">
<h3><span class="header-section-number">2.1.3</span> <strong>Output as an email attachment</strong></h3>
<ul>
<li>It was agreed that the output of the faoswsAquastatValidation module should send an email with the results to be analyzed by the technical unit</li>
</ul>
</div>
<div id="generalization" class="section level3">
<h3><span class="header-section-number">2.1.4</span> <strong>Generalization</strong></h3>
<ul>
<li>The module is a generic, meaning that it can check and identify potential error of different SWS - AQUASTAT data sets.</li>
</ul>
</div>
</div>
<div id="workflow-1" class="section level2">
<h2><span class="header-section-number">2.2</span> <strong>Workflow</strong></h2>
<ol style="list-style-type: decimal">
<li><p><strong>Input dataset</strong></p></li>
<li><p><strong>Apply validation rules</strong></p></li>
<li><p><strong>Output to the user</strong></p></li>
</ol>
<div id="the-input-dataset" class="section level3">
<h3><span class="header-section-number">2.2.1</span> The input dataset</h3>
<p>As requested, the module is designed to be generic and execute on whatever SWS - AQUASTAT data set with at least the following dimensions:</p>
<ul>
<li><strong>geographicAreaM49</strong></li>
<li><strong>aquastatElement</strong></li>
<li><strong>timePointYears</strong></li>
<li><strong>flagObservationStatus</strong> or <strong>flagAquastat</strong></li>
</ul>
<p>Currently, the two data sets which the module can be executed on are either the AQUASTAT data set migrated by CIO - SWS (<strong>aquastat_enr</strong>) and the data set resulting from the faoswsAquastatBaseline module (<strong>aquastat_baseline</strong>).</p>
<div class="figure"><span id="fig:fig15"></span>
<div id="htmlwidget-48a31cd54993482adb48" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-48a31cd54993482adb48">{"x":{"diagram":"digraph {\n                  \n                  graph [layout = dot, rankdir = TB]\n                  \n                  # define the global styles of the nodes. We can override these in box if we wish\n                  node [shape = rectangle, style = filled, fillcolor = Linen]\n                  \n                  # Inputs\n                  enrico [label = \"aquastat_enr \n AQUASTAT data migrated into SWS \", shape = folder, fillcolor = Beige]\n                  baseline [label = \"aquastat_baseline \n faoswsAquastatBaseline module output\", shape = folder, fillcolor = Beige]                          \n                  module [label = \"faoswsAquastatValidation module\", shape = folder, fillcolor = LightBlue]\n                  \n                 \n                \n                  # Flow\n                  # edge definitions with the node IDs\n                  {enrico, baseline} -> module   \n                  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 2.1: faoswsAquastatValidation module workflow: Input datasets
</p>
</div>
</div>
<div id="apply-validation-rules" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Apply validation rules</h3>
The inputs are then processed by the faoswsAquastatValidation module.
<div class="figure"><span id="fig:fig16"></span>
<div id="htmlwidget-96228663f700569756a5" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-96228663f700569756a5">{"x":{"diagram":"digraph {\n                  \n                  graph [layout = dot, rankdir = TB]\n                  \n                  # define the global styles of the nodes. We can override these in box if we wish\n                  node [shape = rectangle, style = filled, fillcolor = Linen]\n                  \n                  # Inputs\n                  inputs [label = \"Input \n aquastat_enr/aquastat_baseline\", shape = folder, fillcolor = Beige]\n                                        \n                  module [label = \"faoswsAquastatValidation module \n 1. Call validation_rules_clone data table; \n 2. Confront validation rules against the rows of the input dataset; \n 3. Select the rows of the input where the rules failed; \n 4. Add dimension descriptions to these rows; \n 5. Send the output data to the user corporate email.\", shape = folder, fillcolor = LightBlue]\n                  \n                  # Flow\n                  # edge definitions with the node IDs\n                  {inputs} -> module   \n                  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 2.2: faoswsAquastatValidation module workflow: Processing
</p>
</div>
</div>
<div id="output-to-the-user" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Output to the user</h3>
<p>After processing, and correctly identifying the rows where one or more validation rules were violated,, the module sends the output as <strong>.csv file</strong> to the user email (FAO corporate account). The output .csv file attached in the email is named <strong>validation_<name of the dataset input in SWS>.csv</strong> and has the following columns:</p>
<ul>
<li><p><strong>geographic_area_description</strong>. The name of the country indicating <em>where</em> the validation rule (expression) did not pass the logical test;</p></li>
<li><p><strong>timePointYears</strong>. The year indicating <em>when</em> the validation rule (expression) did not pass the logical test;</p></li>
<li><p><strong>aquastatElement</strong>. The aquastatElement code;</p></li>
<li><p><strong>aquastatElement description</strong>. The aquastatElement name(s) in the failing validation rule (expression);</p></li>
<li><p><strong>Value</strong>. The values of aquastatElement(s) in the geographic area and year that may be potentially erroneous;</p></li>
<li><p><strong>flagObservationStatus</strong> (if input has flagObservationStatus) or <strong>flagAquastat</strong> (if input is the aquastat_enr data set). The flag of the potentially erroneous values;</p></li>
<li><p><strong>flagMethod</strong> (if input has flagMethod). The flag pointing the method used to obtain the potentially erroneous values;</p></li>
<li><p><strong>expression</strong>. The validation rule that was violated and detected by the module.</p></li>
</ul>
<table>
<caption><span id="tab:tab16">Table 2.2: </span>Adapted example of faoswsAquastatValidation output sent by the module to the user (Afghanistan).</caption>
<thead>
<tr class="header">
<th align="left">aquastatElement_description</th>
<th align="right">Year</th>
<th align="right">Value</th>
<th align="left">expression</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Area equipped for irrigation: total [1000 ha]</td>
<td align="right">1967</td>
<td align="right">0.0000</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation by groundwater [1000 ha]</td>
<td align="right">1967</td>
<td align="right">418.1000</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for full control irrigation: total [1000 ha]</td>
<td align="right">1968</td>
<td align="right">0.0000</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation: total [1000 ha]</td>
<td align="right">1968</td>
<td align="right">0.0000</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for irrigation by groundwater [1000 ha]</td>
<td align="right">1968</td>
<td align="right">422.6457</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation by surface water [1000 ha]</td>
<td align="right">1968</td>
<td align="right">2306.5429</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for full control irrigation: total [1000 ha]</td>
<td align="right">1969</td>
<td align="right">0.0000</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation: total [1000 ha]</td>
<td align="right">1969</td>
<td align="right">0.0000</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for irrigation by groundwater [1000 ha]</td>
<td align="right">1969</td>
<td align="right">427.1914</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation by surface water [1000 ha]</td>
<td align="right">1969</td>
<td align="right">2316.0857</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for full control irrigation: total [1000 ha]</td>
<td align="right">1970</td>
<td align="right">0.0000</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation: total [1000 ha]</td>
<td align="right">1970</td>
<td align="right">0.0000</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for irrigation by groundwater [1000 ha]</td>
<td align="right">1970</td>
<td align="right">431.7371</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation by surface water [1000 ha]</td>
<td align="right">1970</td>
<td align="right">2325.6286</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for full control irrigation: total [1000 ha]</td>
<td align="right">1971</td>
<td align="right">0.0000</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation: total [1000 ha]</td>
<td align="right">1971</td>
<td align="right">0.0000</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for irrigation by groundwater [1000 ha]</td>
<td align="right">1971</td>
<td align="right">436.2829</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation by surface water [1000 ha]</td>
<td align="right">1971</td>
<td align="right">2335.1714</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="odd">
<td align="left">Area equipped for full control irrigation: total [1000 ha]</td>
<td align="right">1972</td>
<td align="right">0.0000</td>
<td align="left">Value_4311&gt;=Value_4321</td>
</tr>
<tr class="even">
<td align="left">Area equipped for irrigation: total [1000 ha]</td>
<td align="right">1972</td>
<td align="right">0.0000</td>
<td align="left">Value_4320/Value_4313&lt;= 0.7</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="running-the-module-in-the-sws-1" class="section level2">
<h2><span class="header-section-number">2.3</span> <strong>Running the module in the SWS</strong></h2>
<ol style="list-style-type: decimal">
<li><p>Log into the SWS;</p></li>
<li><p>Click on the <strong>New Query</strong> button;</p></li>
<li><p>Choose <strong>Aquastat domain</strong>;</p></li>
<li><p>Choose either <strong>aquastat_enr</strong> or Aquastat Baseline as the data set (remember they are the inputs!);</p></li>
<li><p>Select all countries, all elements, and all years;</p></li>
<li><p>Click on <strong>Run</strong> besides the save button to query the data;</p></li>
</ol>
<div class="figure"><span id="fig:fig17"></span>
<img src="images/query.JPG" alt=" Running the module in SWS: steps 1 to 6" width="100%" />
<p class="caption">
Figure 2.3:  Running the module in SWS: steps 1 to 6
</p>
</div>
<ol start="7" style="list-style-type: decimal">
<li><p>Click on the <strong>Run plugin</strong> button;</p></li>
<li><p>Select the faoswsAquastatValidation module and click on the <strong>Run plugin</strong> button;</p></li>
</ol>
<div class="figure"><span id="fig:fig18"></span>
<img src="images/validationselectplugin.PNG" alt=" Running the module in SWS: steps 7 to 8" width="100%" />
<p class="caption">
Figure 2.4:  Running the module in SWS: steps 7 to 8
</p>
</div>
<ol start="9" style="list-style-type: decimal">
<li>Wait for the output in your FAO email inbox;
<div class="figure"><span id="fig:fig19"></span>
<img src="images/validationwaitemail.PNG" alt=" Running the module in SWS: step 9" width="100%" />
<p class="caption">
Figure 2.5:  Running the module in SWS: step 9
</p>
</div></li>
<li>Check your inbox.</li>
</ol>
<ul>
<li>The send is <strong>‘<a href="mailto:sws@fao.org">sws@fao.org</a>’</strong>.</li>
<li>The subject is <strong>‘The AquastatValidation is finished’</strong>.</li>
<li>The .csv file name is <strong>validation_nameofthedataset.csv</strong>.</li>
</ul>
<div class="figure"><span id="fig:fig20"></span>
<img src="images/validationfaoemail.PNG" alt=" Running the module in SWS: step 10" width="100%" />
<p class="caption">
Figure 2.6:  Running the module in SWS: step 10
</p>
</div>
</div>
<div id="did-the-module-1" class="section level2">
<h2><span class="header-section-number">2.4</span> <strong>Did the module</strong>…</h2>
<div id="execute-what-it-was-designed-for" class="section level3">
<h3><span class="header-section-number">2.4.1</span> execute what it was designed for?</h3>
<p>The faoswsAquastatValidation module shows that it is possible to use the domain-knowledge translated into validation rules, and stored as SWS data table, to identify and locate potential errors in AQUASTAT - SWS framework data sets. By returning the areas, years, elements, values, flags, and expressions with potentially erroneous values, the module gives ammunition to the user to reduce the scope of the Quality Assurance and Quality Control process. As a consequence, the tool makes easier to identify the nature of the errors (e.g. from data source, from the module processing, from data revision, etc) and implement data correction based on the user domain - knowledge.</p>
<p>It is recognized though that the level of human-intervention on the module’s result is proportional to the number of rows in the data set identified as violated. The more processed the input data set is, the higher is the probability of more rows with violation. Even so, the burden reduction with the automatic detection of faulty rules is a advance that will help the technical division to improve its data flow.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="AquastatBaseline.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="nextsteps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
